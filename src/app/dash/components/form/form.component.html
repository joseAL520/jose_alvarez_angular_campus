<form
  class="grid grid-cols-1 sm:grid-cols-2 gap-5 w-full max-w-4xl mx-auto my-6 bg-base-200 p-5 rounded-xl shadow-md"
  [formGroup]="myForm"
  (submit)="onSubmit()"
  >

  <div class="sm:col-span-2">
    <fieldset class="fieldset">
      <legend class="fieldset-legend">Nombre del Producto</legend>
      <input
        type="text"
        class="input w-full"
        placeholder="Nombre del producto"
        formControlName="name"
      />
      @if (formUtils.isValidField(myForm, 'name')) {
        <span class="form-text text-error">
          {{ formUtils.getFieldError(myForm, 'name') }}
        </span>
      }
    </fieldset>
  </div>

  <!-- Descripción -->
  <div class="sm:col-span-2">
    <fieldset class="fieldset">
      <legend class="fieldset-legend">Descripción</legend>
      <textarea
        class="textarea w-full "
        placeholder="Descripción del producto"
        formControlName="description"
        rows="3"
      ></textarea>
      @if (formUtils.isValidField(myForm, 'description')) {
        <span class="form-text text-error">
          {{ formUtils.getFieldError(myForm, 'description') }}
        </span>
      }
    </fieldset>
  </div>

  <!-- Precio -->
  <div>
    <fieldset class="fieldset">
      <legend class="fieldset-legend">Precio</legend>
      <input
        type="number"
        min="0"
        step="0.01"
        class="input w-full"
        placeholder="Precio del producto"
        formControlName="price"
      />
      @if (formUtils.isValidField(myForm, 'price')) {
        <span class="form-text text-error">
          {{ formUtils.getFieldError(myForm, 'price') }}
        </span>
      }
    </fieldset>
  </div>

  <!-- Categoría -->
  <div class="">
    <fieldset class="fieldset">
      <legend class="fieldset-legend">Categoria</legend>
      <select
        class="select w-full"
        formControlName="category"
      >
        <option value="" disabled selected>Selecciona una opción</option>
          <option *ngFor="let cat of categori" [value]="cat">{{ cat }}</option>
      </select>
      @if (formUtils.isValidField(myForm, 'category')) {
        <span class="form-text text-error">
          {{ formUtils.getFieldError(myForm, 'category') }}
        </span>
      }
    </fieldset>
  </div>

  <!-- Disponibilidad -->
  <div class="sm:col-span-2">
    <fieldset class="fieldset">
      <legend class="fieldset-legend">Disponibilidad</legend>
      <select
        class="select w-full"
        formControlName="available"
      >
        <option value="" disabled selected>Selecciona una opción</option>
        <option [value]=" true ">Disponible</option>
        <option [value]=" false ">No disponible</option>
      </select>
      @if (formUtils.isValidField(myForm, 'available')) {
        <span class="form-text text-error">
          {{ formUtils.getFieldError(myForm, 'available') }}
        </span>
      }
    </fieldset>
  </div>

  <!-- Botón   myForm.invalid-->
  <div class="col-span-1 sm:col-span-2 flex justify-end">
    @if (router.url.includes('editer')) {

      <button class="btn btn-success w-full sm:w-auto mr-2.5" type="submit">
        Editar
      </button>

      <button class="btn btn-error w-full sm:w-auto" [routerLink]="['/']">
        Cancelar
      </button>
    }@else {
      <button class="btn btn-primary w-full sm:w-auto" type="submit" [disabled]="">
        Guardar Producto
      </button>
    }

  </div>
</form>

  @if(isActiveAlertSuccess()){
      <div role="alert" class="alert alert-success">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        <span>Produco Guardado</span>
      </div>
  }